--- drivers/thermal/msm_thermal.c	2013-01-04 04:01:36.000000000 -0800
+++ drivers/thermal/msm_thermal.c	2013-03-19 04:01:00.000000000 -0700
@@ -81,7 +81,7 @@
 	if (max_freq == limited_max_freq)
 		goto reschedule;
 
-	/* Update new limits */
+	
 	for_each_possible_cpu(cpu) {
 		ret = update_cpu_max_freq(cpu, max_freq);
 		if (ret)
@@ -99,12 +99,10 @@
 {
 	int cpu = 0;
 
-	/* make sure check_temp is no longer running */
-	cancel_delayed_work(&check_temp_work);
+	
+	cancel_delayed_work_sync(&check_temp_work);
 	flush_scheduled_work();
 
-	if (limited_max_freq == MSM_CPUFREQ_NO_LIMIT)
-		return;
 
 	for_each_possible_cpu(cpu) {
 		update_cpu_max_freq(cpu, MSM_CPUFREQ_NO_LIMIT);
